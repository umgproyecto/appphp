(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{141:function(e,t,o){var n=o(223);"string"==typeof n&&(n=[[e.i,n,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};o(26)(n,a);n.locals&&(e.exports=n.locals)},222:function(e,t,o){"use strict";o(141)},223:function(e,t,o){(e.exports=o(25)(!1)).push([e.i,"\n.card-body[data-v-521868bf] table > tbody > tr > td {\n  cursor: pointer;\n}\n",""])},547:function(e,t,o){"use strict";o.r(t);var n=o(2),a=o.n(n),s={name:"Resources",data:function(){return{items:[],fields:["show","edit","delete"],currentPage:1,perPage:5,totalRows:0,you:null,message:"",showMessage:!1,dismissSecs:7,dismissCountDown:0,showDismissibleAlert:!1,activePage:1,maxPages:1}},watch:{activePage:function(){this.getResources()}},computed:{},methods:{getRowCount:function(e){return e.length},resourceLink:function(e){return"resource/".concat(e.toString())},editLink:function(e){return"resource/".concat(e.toString(),"/edit")},showResource:function(e){var t=this.resourceLink(e);this.$router.push({path:t})},editResource:function(e){var t=this.editLink(e);this.$router.push({path:t})},deleteResource:function(e){var t="resource/".concat(e.toString(),"/delete");this.$router.push({path:t})},createResource:function(){this.$router.push({path:"/resource/"+this.$route.params.bread+"/resource/create"})},countDownChanged:function(e){this.dismissCountDown=e},showAlert:function(){this.dismissCountDown=this.dismissSecs},getResources:function(){var e=this;a.a.get("/api/resource/"+e.$route.params.bread+"/resource?token="+localStorage.getItem("api_token")+"&page="+e.activePage).then((function(t){e.items=t.data.datas,e.fields=[];for(var o=0;o<t.data.header.length;o++)null!==t.data.header[o].relation_table?e.fields.push({key:"relation_"+t.data.header[o].column_name,label:t.data.header[o].name}):e.fields.push({key:t.data.header[o].column_name,label:t.data.header[o].name});e.fields.push({key:"show",label:""}),e.fields.push({key:"edit",label:""}),e.fields.push({key:"delete",label:""}),e.maxPages=t.data.pagination})).catch((function(t){console.log(t),e.$router.push({path:"/login"})}))}},mounted:function(){this.getResources()}},r=(o(222),o(0)),i=Object(r.a)(s,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("CRow",[o("CCol",{attrs:{col:"12",xl:"12"}},[o("transition",{attrs:{name:"slide"}},[o("CCard",[o("CCardBody",[o("CButton",{attrs:{color:"primary"},on:{click:function(t){return e.createResource()}}},[e._v("Create")]),e._v(" "),o("CAlert",{attrs:{show:e.dismissCountDown,color:"primary",fade:""},on:{"update:show":function(t){e.dismissCountDown=t}}},[e._v("\n            ("+e._s(e.dismissCountDown)+") "+e._s(e.message)+"\n          ")]),e._v(" "),o("CDataTable",{attrs:{hover:"",items:e.items,fields:e.fields},scopedSlots:e._u([{key:"show",fn:function(t){var n=t.item;return[o("td",[o("CButton",{attrs:{color:"primary"},on:{click:function(t){return e.showResource(n.id)}}},[e._v("Show")])],1)]}},{key:"edit",fn:function(t){var n=t.item;return[o("td",[o("CButton",{attrs:{color:"primary"},on:{click:function(t){return e.editResource(n.id)}}},[e._v("Edit")])],1)]}},{key:"delete",fn:function(t){var n=t.item;return[o("td",[e.you!=n.id?o("CButton",{attrs:{color:"danger"},on:{click:function(t){return e.deleteResource(n.id)}}},[e._v("Delete")]):e._e()],1)]}}])}),e._v(" "),o("CPagination",{attrs:{pages:e.maxPages,"active-page":e.activePage},on:{"update:activePage":function(t){e.activePage=t},"update:active-page":function(t){e.activePage=t}}})],1)],1)],1)],1)],1)}),[],!1,null,"521868bf",null);t.default=i.exports}}]);