(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{428:function(t,e,n){"use strict";n.r(e);var i=n(4),s=n.n(i),o=[{key:"id",_style:"min-width:30px"},{key:"first_name",_style:"min-width:90px"},"last_name",{key:"surname",_style:"min-width:90px;"},{key:"last_surname",_style:"min-width:90px;"},{key:"direction",_style:"min-width:90px;"},{key:"telephone",_style:"min-width:90px;"},{key:"email",_style:"min-width:90px;"},{key:"nit",_style:"min-width:80px;"},"show","edit","delete"],r={name:"Clients",data:function(){return{items:[],fields:o,you:null,details:[],message:"",showMessage:!1,dismissSecs:3,dismissCountDown:0,showDismissibleAlert:!1}},computed:{},methods:{userLink:function(t){return"clients/".concat(t.toString())},editLink:function(t){return"clients/".concat(t.toString(),"/edit")},showClient:function(t){var e=this.userLink(t);this.$router.push({path:e})},editClient:function(t){var e=this.editLink(t);this.$router.push({path:e})},deleteClient:function(t){var e=this;s.a.delete("/api/clients/"+t+"?token="+localStorage.getItem("api_token")).then((function(t){e.message="Successfully deleted user.",e.showAlert(),e.getClients()})).catch((function(t){console.log(t),e.message="Error"+t,e.showAlert()}))},countDownChanged:function(t){this.dismissCountDown=t},showAlert:function(){this.dismissCountDown=this.dismissSecs},newClient:function(){this.$router.push({path:"clients/create"})},getClients:function(){var t=this;s.a.get("/api/clients?token="+localStorage.getItem("api_token")).then((function(e){console.log(e.data),t.items=e.data})).catch((function(e){console.log(e),t.$router.push({path:"/login"})}))}},mounted:function(){this.getClients()}},l=n(3),a=Object(l.a)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("CRow",[n("CCol",{attrs:{sm:"12"}},[n("CCard",[n("CCardHeader",[n("CIcon",{attrs:{name:"cil-justify-center"}}),t._v(" "),n("strong",[t._v("Clientes")])],1),t._v(" "),n("CCardBody",[n("CAlert",{attrs:{show:t.dismissCountDown,color:"primary",fade:""},on:{"update:show":function(e){t.dismissCountDown=e}}},[t._v("\n          ("+t._s(t.dismissCountDown)+") "+t._s(t.message)+"\n        ")]),t._v(" "),n("CDataTable",{attrs:{items:t.items,fields:t.fields,"table-filter":"","items-per-page-select":"","items-per-page":5,hover:"",pagination:""},scopedSlots:t._u([{key:"show",fn:function(e){var i=e.item;return[n("td",[n("CButton",{attrs:{color:"primary"},on:{click:function(e){return t.showClient(i.id)}}},[t._v("Show")])],1)]}},{key:"edit",fn:function(e){var i=e.item;return[n("td",[n("CButton",{attrs:{color:"secondary"},on:{click:function(e){return t.editClient(i.id)}}},[t._v("Edit")])],1)]}},{key:"delete",fn:function(e){var i=e.item;return[n("td",[n("CButton",{attrs:{color:"danger"},on:{click:function(e){return t.deleteClient(i.id)}}},[t._v("Delete")])],1)]}}])}),t._v(" "),n("CRow",[n("CCol",{staticClass:"text-center mt-3",attrs:{sm:"",xs:"12"}},[n("CButton",{attrs:{color:"success"},on:{click:function(e){return t.newClient()}}},[n("CIcon",{attrs:{name:"cil-lightbulb"}}),t._v("Â Agregar nuevo Cliente\n            ")],1)],1)],1)],1)],1)],1)],1)}),[],!1,null,null,null);e.default=a.exports}}]);